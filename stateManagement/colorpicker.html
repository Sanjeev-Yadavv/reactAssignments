<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Picker</title>
</head>

<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">

    function ColorPicker() {

      const [color, setColor] = React.useState("#000000"); // Initial color is black
      const [isValid, setIsValid] = React.useState(true);

      const handleChange = event => {
        const value = event.target.value;
        // Modified regex to allow color codes with or without the '#'
        if(/^#?([0-9A-F]{6}|[0-9A-F]{3})$/i.test(value)) {
          setColor(value)
          setIsValid(true)
        } else {
          setIsValid(false)
        }
      }

      return (
        <div>
          <input
            type="text"
            value={color}
            onChange={handleChange}
            style={{ marginBottom: "10px" }}
            autoComplete="off"
          />
          {!isValid && <p style={{ color: "red" }}>Invalid Color code</p>}

          <div
            style={{
              width: "200px",
              height: "200px",
              backgroundColor: color,
              border: "1px solid red"
            }}
          ></div>
        </div>
      )
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<ColorPicker />)
  </script>
</body>

</html>


















<!-- 
//     function ColorPicker() {
//       const [color, setColor] = React.useState("#bada55");
//       const [isValid, setIsValid] = React.useState(true);

//       const handleChange = (event) => {
//         const value = event.target.value;
//         if (/^#[0-9A-F]{6}$/i.test(value) || /^#[0-9A-F]{3}$/i.test(value)) {
//           setColor(value);
//           setIsValid(true);
//         } else {
//           setIsValid(false);
//         }
//       };

//       return (
//         <div>
//           <input
//             type="text"
//             value={color}
//             onChange={handleChange}
//             style={{ marginBottom: "10px" }}
//           />
//           {isValid ? null : <p style={{ color: "red" }}>Invalid color code</p>}
//           <div
//             style={{
//               width: "200px",
//               height: "200px",
//               backgroundColor: color,
//               border: "1px solid black",
//             }}
//           ></div>
//         </div>
//       );
//     }

//     ReactDOM.createRoot(document.getElementById("root")).render(<ColorPicker />);
//   </script>
// </body>

// </html> -->